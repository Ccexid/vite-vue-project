/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */

/* ==========================================================================
   1. 基础变量定义
   ========================================================================== */
:root {
  --font-main: 'Alibaba PuHuiTi 3.0', -apple-system, BlinkMacSystemFont, "PingFang SC", sans-serif;
  /* 布局与背景 */
  --sb-bg-layout: #ffffff;
  --sb-bg-item: #ffffff;
  --sb-bg-dialog: #f5f6f7;
  --sb-bg-mask: rgba(101, 108, 133, 0.8);
  --sb-bg-input: #ffffff;
  --sb-bg-footer: #ffffff;

  /* 文字颜色 */
  --sb-text-main: #1c1e21;
  --sb-text-muted: #969faf;
  --sb-text-white: #ffffff;

  /* 品牌色与状态色 (适配按钮组件) */
  --sb-primary: #5468ff;   /* */
  --sb-success: #67c23a;   /* 对应 el-btn-custom--success */
  --sb-warning: #e6a23c;   /* 对应 el-btn-custom--warning */
  --sb-danger: #f56c6c;    /* 对应 el-btn-custom--danger */
  --sb-info: #909399;      /* 对应 el-btn-custom--info */
  
  /* 边框与装饰 */
  --sb-border: #ebedf0;    /* */
  --sb-btn-ball: #ffffff;

  /* 阴影与装饰 */
  --sb-shadow: 0 15px 50px -10px rgba(0, 0, 0, 0.3);
  --sb-item-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  --sb-scrollbar-thumb: #d1d5db;
  --sb-scrollbar-track: #f1f1f1;

  /* GSAP 动画控制变量 */
  --ripple-radius: 0px;
  --ripple-x: 0px;
  --ripple-y: 0px;
}

/* 黑夜模式变量覆盖 (改造后) */
[data-theme='dark'] {
  --sb-bg-layout: #1a1a1b;
  --sb-bg-item: #2f3031;
  --sb-bg-dialog: #242526;
  --sb-bg-mask: rgba(0, 0, 0, 0.85);
  --sb-bg-input: #1a1a1b;
  --sb-bg-footer: #1a1a1b;

  --sb-text-main: #e3e3e3;
  --sb-text-muted: #a0a0a0;

  /* 黑夜模式状态色微调：降低饱和度，提高亮度以增强对比度 */
  --sb-primary: #7384ff;
  --sb-success: #85ce61;
  --sb-warning: #ebb563;
  --sb-danger: #f78989;
  --sb-info: #a6a9ad;

  --sb-border: #3e3f41;
  --sb-btn-ball: #333333;

  --sb-shadow: 0 15px 50px -10px rgba(0, 0, 0, 0.6);
  --sb-item-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);

  --sb-scrollbar-thumb: #4a4b4d;
  --sb-scrollbar-track: #242526;
}

/* ==========================================================================
   2. 核心动画逻辑 (Clip-path 裁剪控制)
   ========================================================================== */

html {
  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  /* 重点：html 设为纯白。当黑夜模式收缩动画执行时，裁剪区外会显露此颜色 */
  background-color: var(--sb-bg-layout);
  /* 初始状态不裁剪 */
  clip-path: none;
}

/* 当 GSAP 写入 style 变量时，激活裁剪 */
html[style*='--ripple-radius'] {
  /* 强制执行裁剪，控制可见区域 */
  clip-path: circle(var(--ripple-radius) at var(--ripple-x) var(--ripple-y)) !important;
}

/* 动画进行中，禁用所有元素的 CSS Transition，防止颜色切换滞后 */
html[style*='--ripple-radius'] * {
  transition: none !important;
}

/* 兼容性处理：禁用主题属性引发的默认 CSS 过渡 */
html[data-theme] {
  transition: none !important;
}

body {
  padding: 0;
  margin: 0;
  background-color: var(--sb-bg-layout);
  color: var(--sb-text-main);
  /* 禁用背景色改变时的 transition，完全由 GSAP 裁剪逻辑表现过渡 */
  transition: none !important;
}

/* ==========================================================================
   3. 基础样式重置 (Normalize 简化版)
   ========================================================================== */
main {
  display: block;
}
a {
  background-color: transparent;
  text-decoration: none;
  color: inherit;
}
img {
  border-style: none;
}
button,
input {
  overflow: visible;
  font-family: inherit;
}
button {
  cursor: pointer;
  appearance: button;
  border: none;
  background: none;
}

/* 滚动条通用样式适配 */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--sb-scrollbar-thumb) var(--sb-scrollbar-track);
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--sb-scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--sb-scrollbar-thumb);
  border-radius: 10px;
}

/* ==========================================================================
   4. View Transition 占位 (配合 GSAP 逻辑使用)
   ========================================================================== */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}
